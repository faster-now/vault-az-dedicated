AZURE SETUP

Create azure account

Then create Service Principal:
App registration

    Navigate to the Azure portal.
    Select Azure Active Directory from the left-hand side menu.
    Select App registrations and + New registration.
    Enter a name for the application (the service principal name). (vault-c-az)
    Select Accounts in this organizational directory only.
	
Then create a role with Contributor access to the subscription (https://learn.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#assign-a-role-to-the-application)

Then create a secret-id for the app/service (https://learn.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#option-2-create-a-new-application-secret)


Create TF workspace environment variables with AZ details for TF to use to access AZ account
Onj8Q~PFoDgJrD8njvNcw6lxZFvxXO2LwQEX8aaW

Create local folder for tf files and create tf files (https://learn.microsoft.com/en-us/azure/virtual-machines/linux/quick-create-terraform)
Change the terraform block in providers.tf to add the cloud block / backend
Download TF exe, unzip to program files and add to path environment variable
Browse to local dir and run terraform login (cred stored at C:\Users\colin\AppData\Roaming\terraform.d\credentials.tfrc.json)
	- this will launch browser and automatically create an API token which can be copied and pasted into the prompt
Then terraform init
plan & apply

Once VM is created look at state file to find private key and write to file and update permissions
Then to connect to VM: ssh azureuser@20.163.246.102 -i "C:\Users\colin\Downloads\az-ssh-priv.key"
